<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Extracting Results" href="ext_guide.html" /><link rel="prev" title="Preparing Cross Sections" href="cs_guide.html" />

    <!-- Generated with Sphinx 7.0.1 and Furo 2023.05.20 -->
        <title>Running Multiple Calculations - ThunderBoltz 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=e6660623a769aa55fea372102b9bf3151b292993" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">ThunderBoltz 0.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">ThunderBoltz 0.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">ThunderBoltz 0.1 Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="cs_guide.html">Preparing Cross Sections</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Running Multiple Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="ext_guide.html">Extracting Results</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bm.html">Benchmark Testing</a></li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="params.html">Simulation Parameters</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Simulation Parameters</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/pytb.parameters.TBParameters.html">pytb.parameters.TBParameters</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of pytb.parameters.TBParameters</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parameters.TBParameters.get_params.html">pytb.parameters.TBParameters.get_params</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/pytb.parameters.WrapParameters.html">pytb.parameters.WrapParameters</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of pytb.parameters.WrapParameters</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parameters.WrapParameters.get_params.html">pytb.parameters.WrapParameters.get_params</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/pytb.parameters.OutputParameters.html">pytb.parameters.OutputParameters</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of pytb.parameters.OutputParameters</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parameters.OutputParameters.get_params.html">pytb.parameters.OutputParameters.get_params</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/pytb.parameters.ParticleParameters.html">pytb.parameters.ParticleParameters</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of pytb.parameters.ParticleParameters</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parameters.ParticleParameters.get_params.html">pytb.parameters.ParticleParameters.get_params</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="ref.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/pytb.ThunderBoltz.html">pytb.ThunderBoltz</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of pytb.ThunderBoltz</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.add_callback.html">pytb.ThunderBoltz.add_callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.compile_debug.html">pytb.ThunderBoltz.compile_debug</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.compile_from.html">pytb.ThunderBoltz.compile_from</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.describe_dist.html">pytb.ThunderBoltz.describe_dist</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.get_directory.html">pytb.ThunderBoltz.get_directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.get_edfs.html">pytb.ThunderBoltz.get_edfs</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.get_etrans.html">pytb.ThunderBoltz.get_etrans</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.get_particle_tables.html">pytb.ThunderBoltz.get_particle_tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.get_sim_param.html">pytb.ThunderBoltz.get_sim_param</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.get_ss_params.html">pytb.ThunderBoltz.get_ss_params</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.get_timeseries.html">pytb.ThunderBoltz.get_timeseries</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.get_vdfs.html">pytb.ThunderBoltz.get_vdfs</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.plot_cs.html">pytb.ThunderBoltz.plot_cs</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.plot_edf_comps.html">pytb.ThunderBoltz.plot_edf_comps</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.plot_edfs.html">pytb.ThunderBoltz.plot_edfs</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.plot_rates.html">pytb.ThunderBoltz.plot_rates</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.plot_timeseries.html">pytb.ThunderBoltz.plot_timeseries</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.plot_vdfs.html">pytb.ThunderBoltz.plot_vdfs</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.read.html">pytb.ThunderBoltz.read</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.read_log.html">pytb.ThunderBoltz.read_log</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.read_particle_table.html">pytb.ThunderBoltz.read_particle_table</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.read_stdout.html">pytb.ThunderBoltz.read_stdout</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.read_tb_params.html">pytb.ThunderBoltz.read_tb_params</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.reset.html">pytb.ThunderBoltz.reset</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.run.html">pytb.ThunderBoltz.run</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.set_.html">pytb.ThunderBoltz.set_</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.set_fixed_tracking.html">pytb.ThunderBoltz.set_fixed_tracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.set_ts_plot_params.html">pytb.ThunderBoltz.set_ts_plot_params</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.to_pickleable.html">pytb.ThunderBoltz.to_pickleable</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.ThunderBoltz.write_input.html">pytb.ThunderBoltz.write_input</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/pytb.tb.read.html">pytb.tb.read</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/pytb.tb.query_tree.html">pytb.tb.query_tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/pytb.tb.CrossSections.from_LXCat.html">pytb.tb.CrossSections.from_LXCat</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/pytb.CrossSections.html">pytb.CrossSections</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of pytb.CrossSections</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.CrossSections.add_differential_model.html">pytb.CrossSections.add_differential_model</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.CrossSections.add_process.html">pytb.CrossSections.add_process</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.CrossSections.add_processes.html">pytb.CrossSections.add_processes</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.CrossSections.find_infile.html">pytb.CrossSections.find_infile</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.CrossSections.from_LXCat.html">pytb.CrossSections.from_LXCat</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.CrossSections.get_deck.html">pytb.CrossSections.get_deck</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.CrossSections.plot_cs.html">pytb.CrossSections.plot_cs</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.CrossSections.read.html">pytb.CrossSections.read</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.CrossSections.set_fixed_background.html">pytb.CrossSections.set_fixed_background</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.CrossSections.write.html">pytb.CrossSections.write</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/pytb.Process.html">pytb.Process</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of pytb.Process</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.Process.add_differential_parameters.html">pytb.Process.add_differential_parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.Process.auto_sample.html">pytb.Process.auto_sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.Process.require_cs.html">pytb.Process.require_cs</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.Process.sample_cs.html">pytb.Process.sample_cs</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.Process.to_cs_frame.html">pytb.Process.to_cs_frame</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.Process.to_df.html">pytb.Process.to_df</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.Process.zero_below_thresh.html">pytb.Process.zero_below_thresh</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/pytb.input.He_TB.html">pytb.input.He_TB</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/pytb.input.convert.html">pytb.input.convert</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/pytb.parallel.MPRunner.html">pytb.parallel.MPRunner</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of pytb.parallel.MPRunner</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.MPRunner.get_directory.html">pytb.parallel.MPRunner.get_directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.MPRunner.run.html">pytb.parallel.MPRunner.run</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.MPRunner.set_.html">pytb.parallel.MPRunner.set_</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.MPRunner.to_pickleable.html">pytb.parallel.MPRunner.to_pickleable</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/pytb.parallel.DistributedPool.html">pytb.parallel.DistributedPool</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of pytb.parallel.DistributedPool</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.DistributedPool.err_callback.html">pytb.parallel.DistributedPool.err_callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.DistributedPool.submit.html">pytb.parallel.DistributedPool.submit</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/pytb.parallel.SlurmManager.html">pytb.parallel.SlurmManager</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of pytb.parallel.SlurmManager</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.SlurmManager.batch_script.html">pytb.parallel.SlurmManager.batch_script</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.SlurmManager.has_active.html">pytb.parallel.SlurmManager.has_active</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.SlurmManager.has_pending.html">pytb.parallel.SlurmManager.has_pending</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.SlurmManager.join.html">pytb.parallel.SlurmManager.join</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.SlurmManager.mock_run.html">pytb.parallel.SlurmManager.mock_run</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.SlurmManager.process_batch_script.html">pytb.parallel.SlurmManager.process_batch_script</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.SlurmManager.sbatch.html">pytb.parallel.SlurmManager.sbatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.SlurmManager.set_.html">pytb.parallel.SlurmManager.set_</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.SlurmManager.submit.html">pytb.parallel.SlurmManager.submit</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/pytb.parallel.SlurmManager.write_slurm_script.html">pytb.parallel.SlurmManager.write_slurm_script</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="running-multiple-calculations">
<h1>Running Multiple Calculations<a class="headerlink" href="#running-multiple-calculations" title="Permalink to this heading">#</a></h1>
<section id="in-sequence">
<h2>In Sequence<a class="headerlink" href="#in-sequence" title="Permalink to this heading">#</a></h2>
<p>You can change simulation parameters in the <a class="reference internal" href="api/pytb.ThunderBoltz.html#pytb.ThunderBoltz" title="pytb.ThunderBoltz"><code class="xref py py-class docutils literal notranslate"><span class="pre">ThunderBoltz</span></code></a>
object and run the program again in a new directory. Use
the <a class="reference internal" href="api/pytb.ThunderBoltz.set_.html#pytb.ThunderBoltz.set_" title="pytb.ThunderBoltz.set_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_()</span></code></a> method to update the desired parameters.</p>
<p>Suppose you wanted to run several calculation at various
field values. To do this, loop through the field values,
create new directories for the new calculation and run the
object like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pytb</span>

<span class="c1"># Make a base directory for this ensemble of simulations</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s2">&quot;multi_sim&quot;</span><span class="p">)</span>

<span class="n">tb</span> <span class="o">=</span> <span class="n">ThunderBoltz</span><span class="p">(</span><span class="n">indeck</span><span class="o">=</span><span class="n">pytb</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">He_TB</span><span class="p">)</span>

<span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">500</span><span class="p">]</span>
<span class="c1"># Loop through the field values</span>
<span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">:</span>
    <span class="c1"># Create a new directory for this calculation</span>
    <span class="n">subdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;multi_sim&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">field</span><span class="si">}</span><span class="s2">Td&quot;</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">subdir</span><span class="p">)</span>
    <span class="n">tb</span><span class="o">.</span><span class="n">set_</span><span class="p">(</span><span class="n">Ered</span><span class="o">=</span><span class="n">field</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="n">subdir</span><span class="p">)</span>
    <span class="c1"># Run the calculation</span>
    <span class="n">tb</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Each call to <a class="reference internal" href="api/pytb.ThunderBoltz.run.html#pytb.ThunderBoltz.run" title="pytb.ThunderBoltz.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> will block until the
corresponding simulation is finished.</p>
</section>
<section id="in-parallel">
<h2>In Parallel<a class="headerlink" href="#in-parallel" title="Permalink to this heading">#</a></h2>
<p>Now suppose you would like to take advantage of multiple cores to run
several ThunderBoltz calculations at once. Though the internal kinetic
code is not (yet) parallelized, the python interface can run several
ThunderBoltz subprocesses in parallel like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pytb</span>

<span class="c1"># Make a base directory for this ensemble of simulations</span>
<span class="n">base_path</span> <span class="o">=</span> <span class="s2">&quot;multi_sim_parallel&quot;</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">base_path</span><span class="p">)</span>

<span class="c1"># Create the base object for the calculation</span>
<span class="n">tb</span> <span class="o">=</span> <span class="n">ThunderBoltz</span><span class="p">(</span><span class="n">indeck</span><span class="o">=</span><span class="n">pytb</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">He_TB</span><span class="p">)</span>

<span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">500</span><span class="p">]</span>

<span class="c1"># This time use the DistributedPool context,</span>
<span class="c1"># passing the ThunderBoltz object like so</span>
<span class="k">with</span> <span class="n">DistributedPool</span><span class="p">(</span><span class="n">tb</span><span class="p">)</span> <span class="k">as</span> <span class="n">pool</span><span class="p">:</span>
    <span class="c1"># Loop through the field values</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">:</span>
        <span class="c1"># Create a new directory for this calculation</span>
        <span class="n">subdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">field</span><span class="si">}</span><span class="s2">Td&quot;</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">subdir</span><span class="p">)</span>

        <span class="c1"># Rather than running with the ``ThunderBoltz`` object,</span>
        <span class="c1"># submit the changes to the pool, and it will automatically</span>
        <span class="c1"># run each each submitted calculation in parallel.</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">Ered</span><span class="o">=</span><span class="n">field</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="n">subdir</span><span class="p">)</span>

<span class="c1"># The DistributedPool context will wait for all the jobs to finish</span>
<span class="c1"># before continuing execution outside the &#39;with&#39; block.</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The forking process used to run multiple simulations has thusfar
only been tested on UNIX/LINUX operating systems.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Ensure there is enough simultaneous memory for all jobs when running
them in parallel. See the section on
<a class="reference internal" href="short_index.html#memory"><span class="std std-ref">Electron Growth and Memory Management</span></a>.</p>
</div>
</section>
<section id="with-a-job-manager">
<h2>With a Job Manager<a class="headerlink" href="#with-a-job-manager" title="Permalink to this heading">#</a></h2>
<p>If HPC resources are available to the user, the python API
includes a job manager compatible with the
<a class="reference external" href="https://slurm.schedmd.com/documentation.html">SLURM</a> protocol.
The <a class="reference internal" href="api/pytb.parallel.SlurmManager.html#pytb.parallel.SlurmManager" title="pytb.parallel.SlurmManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">SlurmManager</span></code></a> context allows for many different calculations
to be split up among compute nodes, and further distributed across
cores. Use it as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pytb</span>

<span class="c1"># Make a base directory for this ensemble of simulations</span>
<span class="n">base_path</span> <span class="o">=</span> <span class="s2">&quot;multi_sim_slurm&quot;</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">base_path</span><span class="p">)</span>

<span class="c1"># Create the base object for the calculation</span>
<span class="n">tb</span> <span class="o">=</span> <span class="n">ThunderBoltz</span><span class="p">(</span><span class="n">indeck</span><span class="o">=</span><span class="n">pytb</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">He_TB</span><span class="p">)</span>

<span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">500</span><span class="p">]</span>

<span class="c1"># Configure SLURM parameters for your job</span>
<span class="n">slurm_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;my_account&quot;</span><span class="p">,</span>
    <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="c1"># in minutes</span>
    <span class="s2">&quot;job-name&quot;</span><span class="p">:</span> <span class="s2">&quot;test_slurm&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ntasks-per-node&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="c1"># Specify number of cores to use</span>
    <span class="s2">&quot;qos&quot;</span><span class="p">:</span> <span class="s2">&quot;debug&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reservation&quot;</span><span class="p">:</span> <span class="s2">&quot;debug&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># Use the SlurmManager Context, just like the DistributedPool context,</span>
<span class="c1"># but also give it your SLURM options.</span>
<span class="k">with</span> <span class="n">SlurmManager</span><span class="p">(</span><span class="n">tb</span><span class="p">,</span> <span class="n">base_path</span><span class="p">,</span> <span class="o">**</span><span class="n">slurm_options</span><span class="p">)</span> <span class="k">as</span> <span class="n">slurm</span><span class="p">:</span>
    <span class="c1"># Loop through the field values</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">:</span>
        <span class="c1"># Create a new directory for this calculation</span>
        <span class="n">subdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">field</span><span class="si">}</span><span class="s2">Td&quot;</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">subdir</span><span class="p">)</span>
        <span class="c1"># Use the slurm manager the same way as the pool, it will</span>
        <span class="c1"># handle node and core allocation internally.</span>
        <span class="n">slurm</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">Ered</span><span class="o">=</span><span class="n">field</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="n">subdir</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#calls">here</a>
for an explanation of the <code class="docutils literal notranslate"><span class="pre">**</span></code> (unpacking) operator used
in the previous example.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This job manager currently only works for clusters that either
already have the gcc and python requirements installed on each
compute node, or clusters that use the
<a class="reference external" href="https://hpc-wiki.info/hpc/Modules">Module System</a> to load
functionality.</p>
<p>The default behavior is to accomodate the module system as it
is common on most HPC machines. If you wish to avoid writing
<code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span></code> commands in the SLURM script, simply specify
<code class="docutils literal notranslate"><span class="pre">modules=[]</span></code> in the <code class="docutils literal notranslate"><span class="pre">SlurmManager</span></code> constructor.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Ensure there is enough memory for all parallel jobs when running
them in parallel.</p>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="ext_guide.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Extracting Results</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="cs_guide.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Preparing Cross Sections</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Ryan Park
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Running Multiple Calculations</a><ul>
<li><a class="reference internal" href="#in-sequence">In Sequence</a></li>
<li><a class="reference internal" href="#in-parallel">In Parallel</a></li>
<li><a class="reference internal" href="#with-a-job-manager">With a Job Manager</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>